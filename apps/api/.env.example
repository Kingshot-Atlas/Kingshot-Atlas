# Kingshot Atlas - Backend Environment Variables
# Copy this file to .env and fill in your values

# ===================
# REQUIRED
# ===================

# JWT Secret Key - MUST be set before running
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-generate-with-openssl

# ===================
# SECURITY - Supabase JWT Validation
# ===================

# Supabase JWT Secret - Required for production to validate user tokens
# Get from: Supabase Dashboard -> Settings -> API -> JWT Secret
# IMPORTANT: Without this, user authentication headers are NOT validated!
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# Supabase URL - Used to verify JWT issuer
SUPABASE_URL=https://your-project.supabase.co

# Supabase Service Role Key - Required for admin operations (updating user profiles)
# Get from: Supabase Dashboard -> Settings -> API -> service_role key
# WARNING: This key bypasses Row Level Security - keep it secret!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===================
# OPTIONAL
# ===================

# Database URL (default: SQLite in current directory)
# For PostgreSQL: postgresql://user:password@localhost:5432/kingshot_atlas
DATABASE_URL=sqlite:///./kingshot_atlas.db

# Environment name (development, staging, production)
ENVIRONMENT=development

# Sentry DSN for error monitoring (leave empty to disable)
SENTRY_DSN=

# CORS Origins (comma-separated, default allows localhost)
# ALLOWED_ORIGINS=http://localhost:3000,https://ks-atlas.com,https://www.ks-atlas.com,https://ks-atlas.pages.dev

# ===================
# AI AGENT (Optional)
# ===================

# Anthropic API Key for Atlas Director agent
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# ===================
# KINGSHOT PLAYER LINK
# ===================

# Century Games API Salt for player verification
# This is the public salt used by kingshot-giftcode.centurygame.com
KINGSHOT_API_SALT=mN4!pQs6JrYwV9

# ===================
# DISCORD INTEGRATION
# ===================

# Webhook URL for posting patch notes to #patch-notes channel
# Get from: Discord Channel Settings > Integrations > Webhooks > New Webhook
DISCORD_PATCH_NOTES_WEBHOOK=

# Webhook URL for posting major announcements to #announcements channel
DISCORD_ANNOUNCEMENTS_WEBHOOK=

# API Key for authenticating webhook requests (generate a random string)
# Generate with: openssl rand -hex 32
DISCORD_API_KEY=

# ===================
# DISCORD ROLE SYNC (Subscription Tier Roles)
# ===================
# When users subscribe/unsubscribe, their Discord role is automatically synced.
# 
# Prerequisites:
# 1. Enable "Server Members Intent" in Discord Developer Portal > Bot > Privileged Gateway Intents
# 2. Bot must have "Manage Roles" permission in the guild
# 3. Bot's role must be HIGHER in the role hierarchy than the roles it manages
# 4. Create "Atlas Supporter" and "Atlas Recruiter" roles in your Discord server
#
# To get role IDs: Enable Developer Mode > Right-click role > Copy Role ID

# Discord Bot Token (same as DISCORD_TOKEN used by the bot)
DISCORD_BOT_TOKEN=

# Discord Guild/Server ID where roles will be managed
DISCORD_GUILD_ID=

# Atlas Supporter role ID (pink color: #FF6B8A)
DISCORD_SUPPORTER_ROLE_ID=

# Atlas Recruiter role ID (purple color: #a855f7)
DISCORD_RECRUITER_ROLE_ID=
