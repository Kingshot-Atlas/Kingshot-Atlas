# Supabase Configuration
# Get these from your Supabase project settings -> API
REACT_APP_SUPABASE_URL=https://your-project.supabase.co
REACT_APP_SUPABASE_ANON_KEY=your-anon-key-here

# API Configuration
# For local development:
REACT_APP_API_URL=http://127.0.0.1:8000
# For production (update with your Railway/Render URL):
# REACT_APP_API_URL=https://your-api.railway.app

# ============================================
# SENTRY ERROR MONITORING (Recommended)
# ============================================
# Get your DSN from: https://sentry.io/ → Project Settings → Client Keys (DSN)
# REACT_APP_SENTRY_DSN=https://xxx@o123456.ingest.sentry.io/123456
# REACT_APP_ENVIRONMENT=production
# REACT_APP_VERSION=1.0.0
#
# Features enabled when configured:
# - Error tracking with stack traces
# - Performance monitoring (10% sample rate)
# - Session replay on errors (helps debug issues)
# - Release tracking for deployment correlation
#
# CSP Reporting (update in _headers after getting Sentry project):
# Replace YOUR_SENTRY_KEY and project ID in the report-uri directive

# Discord Invite Link (optional - defaults to main server)
# REACT_APP_DISCORD_INVITE=https://discord.gg/your-invite-code

# Discord OAuth (for account linking feature)
# Get from Discord Developer Portal > Your Application > OAuth2 > Client ID
VITE_DISCORD_CLIENT_ID=your-discord-client-id

# ============================================
# STRIPE CONFIGURATION (for monetization)
# ============================================
# Get your publishable key from: https://dashboard.stripe.com/apikeys
REACT_APP_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxx

# Payment Links - Create in Stripe Dashboard, copy full URLs here
# Atlas Supporter Monthly ($4.99/month)
VITE_STRIPE_PRO_MONTHLY_LINK=https://buy.stripe.com/dRm8wQ2Fe2ye7dC3n9eZ206
VITE_STRIPE_PRO_YEARLY_LINK=
# Atlas Recruiter Monthly ($19.99/month)
VITE_STRIPE_RECRUITER_MONTHLY_LINK=https://buy.stripe.com/eVqaEY93C8WC2Xm3n9eZ204
# Atlas Recruiter Yearly ($159.99/year - save 33%)
VITE_STRIPE_RECRUITER_YEARLY_LINK=https://buy.stripe.com/bJebJ23Ji0q62Xm8HteZ205

# Customer Portal URL (for subscription management)
# Create at: https://dashboard.stripe.com/settings/billing/portal
REACT_APP_STRIPE_PORTAL_URL=https://billing.stripe.com/p/login/xxxxxxxxxxxxx

# To set up authentication:
# 1. Go to Supabase Dashboard -> Authentication -> Providers
# 2. Enable Google: Add your Google OAuth credentials
# 3. Enable Discord: Add your Discord OAuth credentials (from Discord Developer Portal)
# 4. Enable Email: Already enabled by default

# Create the profiles table in Supabase SQL Editor:
# CREATE TABLE profiles (
#   id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
#   username TEXT,
#   email TEXT,
#   avatar_url TEXT,
#   home_kingdom INTEGER,
#   alliance_tag VARCHAR(3),
#   language TEXT,
#   region TEXT,
#   bio TEXT,
#   theme_color TEXT DEFAULT '#22d3ee',
#   badge_style TEXT DEFAULT 'default',
#   created_at TIMESTAMPTZ DEFAULT NOW()
# );
# 
# -- Enable RLS
# ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
# 
# -- Create policies
# CREATE POLICY "Users can view own profile" ON profiles FOR SELECT USING (auth.uid() = id);
# CREATE POLICY "Users can update own profile" ON profiles FOR UPDATE USING (auth.uid() = id);
# CREATE POLICY "Users can insert own profile" ON profiles FOR INSERT WITH CHECK (auth.uid() = id);
#
# -- Add role column for admin/moderator support
# ALTER TABLE profiles ADD COLUMN IF NOT EXISTS role TEXT DEFAULT 'user';
# CREATE INDEX IF NOT EXISTS idx_profiles_role ON profiles(role);
#
# -- Make gatreno admin after first login:
# UPDATE profiles SET role = 'admin' WHERE username ILIKE '%gatreno%';
